(this["webpackJsonpsber-cur"]=this["webpackJsonpsber-cur"]||[]).push([[0],{36:function(e,t,n){e.exports=n(70)},41:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(27),o=n.n(c),u=(n(41),n(33)),l=n(7),i=n(34),s=n(14),m=n(13),f=n(71),y=n(72),b=function(e){var t=e.history,n=e.symbols;return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),n.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.date},r.a.createElement("td",null,Object(y.a)(new Date(e.date),"yyyy-MM-dd")),n.map((function(t){return r.a.createElement("td",{key:t},(1/e[t]).toFixed(2))})))})))))},d=n(10),h=n.n(d),p=n(28),E=n(29),j=n.n(E),v="https://api.exchangeratesapi.io",O=function(){var e=Object(p.a)(h.a.mark((function e(t,n,a){var r,c,o,u=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>3&&void 0!==u[3]?u[3]:"RUB",e.prev=1,e.next=4,j.a.get("".concat(v,"/history?base=").concat(r,"&start_at=").concat(t,"&end_at=").concat(n,"&symbols=").concat(a.join(",")));case 4:return c=e.sent,o=c.data,e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),w=n(30),g=(n(65),[{primary:!0,type:"utc",position:"bottom"},{type:"linear",position:"left"}]),k=function(e){var t=e.history,n=e.symbols,c=Object(a.useMemo)((function(){return n.map((function(e){return{label:e,data:t.map((function(t){return{x:t.date,y:1/t[e]}}))}}))}),[t,n]);return r.a.createElement("div",{className:"history-chart"},r.a.createElement(w.Chart,{data:c,axes:g,tooltip:!0}))},M=["USD","EUR"],x=new Date,D=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),u=Object(m.a)(o,2),l=u[0],d=u[1],h=Object(a.useRef)(),p=Object(a.useRef)(Object(f.a)(x,-29));return Object(a.useEffect)((function(){return O(Object(y.a)(Object(f.a)(x,-60),"yyyy-MM-dd"),Object(y.a)(Object(f.a)(x,-30),"yyyy-MM-dd"),M).then((function(e){c(Object.keys(e.rates).map((function(t){return Object(s.a)({date:new Date(t)},e.rates[t])})).sort((function(e,t){return e.date-t.date}))),d(!0)})),function(){clearInterval(h.current)}}),[]),Object(a.useEffect)((function(){if(l){var e=p.current;h.current=setInterval((function(){if(e>x)return d(!1);var t=Object(y.a)(e,"yyyy-MM-dd");O(t,t,M).then((function(n){if(n.error)return d(!1),console.log(n.error);Object.keys(n.rates).length>0&&c((function(a){return[].concat(Object(i.a)(a),[Object(s.a)({date:e},n.rates[t])])})),p.current=Object(f.a)(p.current,1),e=Object(f.a)(e,1)})).catch((function(e){console.log(e),d(!1)}))}),1e3)}l||clearInterval(h.current)}),[l]),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return d(!l)}},"start/stop/continue"),r.a.createElement(k,{history:n,symbols:M}),r.a.createElement(b,{history:n,symbols:M}))},I=(n(66),function(e){var t=e.children;return r.a.createElement("div",{className:"layout"},t)});n(67);var R=function(){return r.a.createElement(u.a,null,r.a.createElement(I,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/"},r.a.createElement(D,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.bb4b22ce.chunk.js.map